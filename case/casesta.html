<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>案件统计</title>
  <!-- 引入Layui CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/layui-src/dist/css/layui.css" media="all">
  <!-- 引入Layui JS -->
  <script src="https://cdn.jsdelivr.net/npm/layui-src/dist/layui.js"></script>
  <!-- 引入ECharts（用于复杂图表） -->
  <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
  <style>
    /* 图表容器通用样式 */
    .chart-box {
      width: 100%;
      height: 300px;
      margin-top: 10px;
    }
  </style>
</head>
<body>
<div class="layui-container">
  <!-- 顶部搜索表单 -->
  <form class="layui-form layui-form-pane" action="">
    <div class="layui-row">
      <div class="layui-col-md3">
        <div class="layui-form-item">
          <label class="layui-form-label">选择类型</label>
          <div class="layui-input-inline">
            <select name="college" lay-verify="required">
              <option value="婚姻家庭" selected>婚姻家庭</option>
              <option value="房产纠纷">房产纠纷</option>
              <option value="劳动仲裁">劳动仲裁</option>
              <option value="合同纠纷">合同纠纷</option>
              <option value="知识产权">知识产权</option>
			  <option value="交通事故">交通事故</option>
			  <option value="医疗纠纷">医疗纠纷</option>
            </select>
          </div>
        </div>
      </div>
      <div class="layui-col-md3">
        <div class="layui-form-item">
          <label class="layui-form-label">案件时间</label>
          <div class="layui-input-inline">
            <input type="text" name="grade" value="2025" class="layui-input">
          </div>
        </div>
      </div>
      <div class="layui-col-md3">
        <div class="layui-form-item">
          <label class="layui-form-label">案件进度</label>
          <div class="layui-input-inline">
            <select name="major" lay-verify="required">
              <option value="已提交起诉状" selected>已提交起诉状</option>
              <option value="法院已立案">法院已立案</option>
              <option value="待开庭">待开庭</option>
            </select>
          </div>
        </div>
      </div>
      <div class="layui-col-md3">
        <div class="layui-form-item">
          <button class="layui-btn layui-btn-green" lay-submit lay-filter="searchTop">搜索</button>
          <button type="reset" class="layui-btn layui-btn-primary">重置</button>
        </div>
      </div>
    </div>
  </form>

  <!-- 饼图区域（两列布局） -->
  <div class="layui-row">
    <div class="layui-col-md6">
      <div class="layui-card">
        <div class="layui-card-header">案件类型统计</div>
        <div class="layui-card-body">
          <div id="memberGradeChart" class="chart-box"></div>
        </div>
      </div>
    </div>
    <div class="layui-col-md6">
      <div class="layui-card">
        <div class="layui-card-header">案件进度统计</div>
        <div class="layui-card-body">
          <div id="collegeChart" class="chart-box"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- 柱状图区域 -->
  <div class="layui-row">
    <div class="layui-col-md12">
      <div class="layui-card">
        <div class="layui-card-header">各类型进度统计</div>
        <div class="layui-card-body">
          <div id="majorCompareChart" class="chart-box"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
layui.use(['form', 'laydate'], function(){
  var form = layui.form,
      laydate = layui.laydate;

  // 渲染“时间范围”选择器（可选，若需日期范围筛选）
  laydate.render({
    elem: '[name="timeRange"]',
    range: true // 开启“开始-结束”范围选择
  });

  // 【顶部搜索表单】提交事件
  form.on('submit(searchTop)', function(data){
    console.log("顶部搜索参数：", data.field);
    // 这里可调用后端接口，传参后更新图表数据
    return false; // 阻止表单默认跳转
  });

  // 【底部搜索表单】提交事件
  form.on('submit(searchBottom)', function(data){
    console.log("底部搜索参数：", data.field);
    // 这里可调用后端接口，传参后更新图表数据
    return false;
  });

  // ---------- 初始化“年级成员分布”饼图 ----------
  var memberGradeChart = echarts.init(document.getElementById('memberGradeChart'));
  var memberGradeOption = {
    title: {
      text: '根据案件类型统计饼状图',
      left: 'center'
    },
    tooltip: {
      trigger: 'item', // 鼠标悬浮时，触发“单个数据项”提示
      formatter: '{b}: {c} 人 ({d}%)' // 自定义提示内容：名称+数值+百分比
    },
    series: [{
      name: '类型分布',
      type: 'pie', // 饼图类型
      radius: '60%', // 饼图大小
      data: [
        {value: 15, name: '婚姻家庭'},
        {value: 12, name: '房产纠纷'},
        {value: 10, name: '劳动仲裁'},
        {value: 25, name: '合同纠纷'},
        {value: 20, name: '知识产权'},
		{value: 30, name: '交通事故'},
		{value: 20, name: '医疗纠纷'}
      ]
    }]
  };
  memberGradeChart.setOption(memberGradeOption);

  // ---------- 初始化“学院分布”饼图 ----------
  var collegeChart = echarts.init(document.getElementById('collegeChart'));
  var collegeOption = {
    title: {
      text: '根据案件进度统计饼图',
      left: 'center'
    },
    tooltip: {
      trigger: 'item',
      formatter: '{b}: {c} 人 ({d}%)'
    },
    series: [{
      name: '进度分布',
      type: 'pie',
      radius: '60%',
      data: [
        {value: 40, name: '已提交起诉状'},
        {value: 60, name: '法院已立案'},
        {value: 20, name: '待开庭'}
      ]
    }]
  };
  collegeChart.setOption(collegeOption);

  // ---------- 初始化“专业人数对比”柱状图 ----------
  var majorCompareChart = echarts.init(document.getElementById('majorCompareChart'));
  var majorCompareOption = {
    title: {
      text: '各案件类型进度比较'
    },
    tooltip: {
      trigger: 'axis', // 鼠标悬浮时，触发“坐标轴”提示（显示整组数据）
    },
    xAxis: {
      type: 'category', // 类目轴（用于“专业名称”这类离散数据）
      data: ['婚姻家庭', '房产纠纷', '劳动仲裁', '合同纠纷', '知识产权']
    },
    yAxis: {
      type: 'value' // 数值轴（用于“人数”这类连续数据）
    },
    series: [
      {
        name: '已提交诉讼状',
        type: 'bar', // 柱状图类型
        data: [45, 85, 88, 75, 78]
      },
      {
        name: '法院已立案',
        type: 'bar',
        data: [90, 60, 82, 40, 42]
      },
	  {
	    name: '待开庭',
	    type: 'bar',
	    data: [90, 60, 82, 40, 42]
	  }
    ]
  };
  majorCompareChart.setOption(majorCompareOption);

  // ---------- 窗口 resize 时，图表自适应 ----------
  window.addEventListener('resize', function(){
    memberGradeChart.resize();
    collegeChart.resize();
    majorCompareChart.resize();
  });
});
</script>
</body>
</html>